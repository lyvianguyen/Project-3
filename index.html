<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Cause of Death in the US</title>
  <style>html,
    body,
    #map {
      width: 100%;
      height: 100%;
      padding: 0;
      margin: 0;
    }
    
    .legend {
    line-height: 18px;
    color: #555;
    font: 2px;
}
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    opacity: 0.7;
    
}
    
    .leaflet-bottom.leaflet-left {
      width: 90%;
    }
    
    .leaflet-control-container .leaflet-timeline-controls {
      width: 100%;
      box-sizing: border-box;
      margin: 0;
      margin-bottom: 15px;
    }
    .info {
    padding: 6px 8px;
    font: 14px/16px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
}
.info h4 {
    margin: 0 0 5px;
    color: #777;
}</style>
 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
  integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
  crossorigin=""></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js" type="text/javascript" ></script>


   <!-- Leaflet CSS -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
   integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
   crossorigin="" />


 <!-- Leaflet JavaScript code -->
 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
   integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
   crossorigin=""></script>
</head>



  <div class="container">
    <div class="row">
      <div class="col-md-12 jumbotron text-center">
        <h1>Cause of Death in the US</h1>
        <p>Use the interactive charts below to explore the dataset</p>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div id="bubble">
          <div>
            <h1>Abstract</h1>
            <p  id="text">From the same group of people who brought you data on heart disease in terms of its correlation with race, gender, BMI, mental and physical activity, and so on, we’re at it again, but this time, we will be looking at data describing the cause of death in the US from 1999 to 2017.The data was derived online through this link: https://data.cdc.gov/api/views/bi63-dtpu/rows.json?accessType=DOWNLOAD. In this link, we have access to a json file that has metadata (explaining what the dictionary values are) and the data. From what we derive, we will attempt to answer the following questions: What are the top causes of death per state? Which state is the deadliest state?  Does the cause of death vary per year (1999-2017)?  Death rate per population in the states.
            </p> 
            <h1>Methodology</h1>
            <p>Initially, we read the data using python, convert it into a pandas dataFrame and from that, store the info as a csv file ready to be exported. The next step is to create a database using SQL, label the table, and then populate them with the csv file we created. Afterwards, we access the database via python using the flask library and then create an api that takes in two arguments (year and cause of death) and then populates the website route with a json file containing the data filtered by those two arguments. This then leads to the front end aspect of the project (which is what you’re currently looking at by viewing this webpage) where we take all that data obtained from the api route and load into visualization tools like the interactive map and the [insert the js library we will be using]. </p>
            <h1> Summary</h1>
            <p> For the nineteen-year time span beginning with January 1999 to December 2017 we conclude the following. 

              Heart disease causes the most deaths in the United States at 33.7% of the total. The second highest cause of death is cancer at 29.9%. 
            <img src="Causes of Death in the United States.png" alt="Causes of Death in the United States" width="1000" height="800"> 
           
            <p> There were eight states which were exceptions. (Alaska, Delaware, DC, Maine, Minnesota, New Hampshire, Oregon, and Washington).  In these states cancer was the highest cause of death, just slightly ahead of heart disease. 
            </p> 
            <p> The lowest causes of death were kidney disease at 2.4% and Suicide at 1.9% for the 19-year period. 
            </p>
            <img src="Causes of Death in the United States.png" alt="Causes of Death in the United States" width="1000" height="800">
  
            <p> The top 10 causes of death in the United States in order of percentage:  
               
              Heart disease                         33.7% 
               Cancer                                29.9% 
               Stroke                                 7.5% 
               CLRD                                   7.2% 
               Unintentional injuries                 6.5% 
               Alzheimer’s                            4.1%
               Diabetes                               3.9% 
               Influenza & Pneumonia                  3.0% 
               Kidney disease                         2.4% 
               Suicide                                1.9% 
            </p>  
            
            <img src="Cause of Death per State.png" alt="Cause of Death per State" width="1200" height="800">                
            
            <p>
              
              Total deaths gradually decreased from 3.81 million in 1999 to 3.65 million in 2009. They began to increase in 2010 at 3.7 million and continued to increase up to a maximum of 4.2 million in 2017. 
               
              California had the largest number of deaths of any state, followed by New York, Florida, Texas, and Pennsylvania in descending order. 
               
              The states with the lowest number of deaths were:</p>

              <img src="Causes of Death Over Time.png" alt="Causes of Death Over Time" width="1200" height="800">












          </div> 
        </div>
      </div>
  </div>
    <div class="row">
      <div class="col-md-2">
       
        <div class="well">
          <h5>Years</h5>
          <select id="year" ></select>
        </div>
        <div class="well">
          <h5>Cause of Death</h5>
          <select id="COD" >
           
          </select>
        </div>
        <div class="well">
          <h5>Death Data</h5>
          <select id="death" >
            <option>Death Toll</option>
            <option>Age Adjusted Death Rate</option>
          </select>
        </div>
        <div class="fliter-button">
          <button onclick="filterByYearAndCOD()">Filter</button>
        </div>
       
        
      </div>
      <div class="col-md-5" style="width: 70%; height: 500px;" id ='map'>
        <div id="bar" ></div>
      </div>
      <div class="col-md-5">
        <div id="gauge"></div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div id="bubble"></div>
      </div>
    </div>
  </div>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <script src="logic.js"></script>
  <script src="https://cdn.zoomcharts-cloud.com/1/latest/zoomcharts.js" type="text/javascript"></script>
  

</body>

</html>
